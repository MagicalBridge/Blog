### 什么是单元测试？
> 测试是一种 **验证** 我们的代码是否可以按照预期工作的手段

被测试的对象可以是我们程序的任何一个组成部分，大到一个分为多步骤的下单流程，小到代码中的一个函数。

单元测试特指被测试的对象为程序中 **最小组成单元**的测试，这里的最小组成单元可以是一个函数 ，一个类等等。

### 单元测试的优势

由于被测试对象的简单（通常只有一个或多个输入以及一个输出），这就决定了单元测试开发起来也很简单，通常每个测试只有几行到十几行不等。测试代码的简单表示它可以被更频繁的执行（事实上，很多单元测试框架都有 watch 模式。每次改动代码时都会自动执行单元测试）。更频繁的执行意味着更早的发现问题。

试想，随着代码的不断迭代，程序中总有某些位置会频繁出现某类问题。在没有单元测试时程序员之间往往都是“口口相传”，隔一段时间很可能由于疏忽还会犯同一个错误。有了单元测试我们就可以为这些问题点编写对应的测试代码，每次提交代码前都执行一遍，可以极大的降低相同 bug 重复出现的概率。

此外，要为一个被测试对象编写单元测试，那么它应该首先是容易被测试的（这似乎是一句废话）。反过来讲，如果你面对一个函数、类却很难编写测试代码的时候，很可能是你的代码设计上存在问题。比如和外部依赖耦合过于紧密。这种情况下，编写单元测试的过程会倒逼我们优化我们代码的结构。将复杂的代码拆解成为更简单、更容易测试的片段。这个过程本身也会潜移默化的提高我们代码的质量。

### 单元测试的不足/限制

首先，测试代码再简单，也还是需要工作量来开发的，必定占用开发人员的时间，因此需要开发人员在投入和收益之间寻找平衡点。

其实，单元测试覆盖率往往会给人一种错觉，这段代码单元测试通过了，肯定没有bug 其实不然，单元测试的覆盖率和代码质量没有必然的联系。

### 何时编写单元测试？
* 开发过程中，单元测试应该来测试那些可能会出错的地方，或是边界情况。
* 维护过程中，单元测试应该围绕着bug进行，每个bug都应该编写相应的单元测试，从而保证一个bug不会出现第二次。

### 单元测试的基本概念
* 被测试的对象是什么
* 要测试对象的什么功能？
* 实际得到的结果是什么？
* 期望的结果
* mock/spy 

