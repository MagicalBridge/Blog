## vue组件通信中自定义方法:
我们知道vue1.x版本中原生支持dispatch 和 broadcast方法。

这两个方法虽然看起来很好用，但是在 Vue.js 2.x 中都废弃了，官方给出的解释是：

>因为基于组件树结构的事件流方式有时让人难以理解，并且在组件结构扩展的过程中会变得越来越脆弱。

## 如何自行实现dispatch 和 broadcast方法。

其实自行实现这两个方法也并不是很复杂，我们首先要确定好这个方法具有什么功能：
  * 在子组件调用 dispatch 方法，向上级指定的组件实例（最近的）上触发自定义事件，并传递数据，且该上级组件已预先通过 $on 监听了这个事件;
  * 相反，在父组件调用 broadcast 方法，向下级指定的组件实例（最近的）上触发自定义事件，并传递数据，且该下级组件已预先通过 $on 监听了这个事件。 

好既然已经定义好了api我们就可以动手实现这个功能了。



