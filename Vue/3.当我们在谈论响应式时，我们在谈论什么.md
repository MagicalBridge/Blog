## 开篇

本文从一个简单的 双向绑定 开始，逐步升级到 definProperty 和 proxy 分别实现响应式系统，注重思路，专注关键细节。

### 一、极简双向绑定

> 首先从最简单的双向绑定入手：

```html
<input type="text" id="input" /> <span id="span"></span>
```

```js
let input = document.getElementById("input");
let span = document.getElementById("span");
input.addEventListener("keyup", function(e) {
  span.innerHTML = e.target.value;
});
```

上面的代码中通过监听 input 的值的变化，来改变 span 标签里面的数据,这种基于 dom 的操作显然不是我们想要的，我们想要的是数据驱动，我们接下来看第二个版本：

```html
<input type="text" id="input" /> <span id="span"></span>
```

```js
let obj = {};
let input = document.getElementById("input");
let span = document.getElementById("span");

Object.defineProperty(obj, text, {
  configable: true,
  enumerable: true,
  get() {
    console.log("获取数据了");
  },
  set(newVal) {
    console.log("数据更新了");
    input.value = newVal;
    span.innerHTML = newVal;
  }
});
input.addEventListener("keyUp", function(e) {
  obj.text = e.target.value;
});
```
上面就是一个简单的基于数据驱动的双向数据绑定，但是显然是不足的，下面会继续升级。

